<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Редактировать заявку - CRM System</title>
    <th:block th:replace="~{fragments/header :: head}"></th:block>
</head>
<body>
<nav th:replace="~{fragments/header :: navbar}"></nav>

Updated form layout with conditional title styling based on handled status
<main class="container">
    <div class="form-container">
        <h1 class="form-title"
            th:classappend="${request.handled} ? 'processed' : 'unprocessed'"
            th:text="${request.handled} ? 'Обработанная заявка' : '*** Новая необработанная заявка ***'">
            Редактировать заявку
        </h1>

        <form th:action="@{/requests/edit/{id}(id=${request.id})}"
              th:object="${request}" method="post">
            <div class="mb-3">
                <label for="userName" class="form-label">ФИО :</label>
                <input type="text" class="form-control" id="userName"
                       th:field="*{userName}" required>
            </div>

            <div class="mb-3">
                <label for="courseName" class="form-label">Курс :</label>
                <select class="form-select" id="courseName" th:field="*{courseName}" required>
                    <option value="Java Standard Edition">Java Standard Edition</option>
                    <option value="Web Technologies">Web Technologies</option>
                    <option value="Python Programming Language">Python Programming Language</option>
                    <option value="Java Pro">Java Pro</option>
                    <option value="UX/UI Design">UX/UI Design</option>
                    <option value="Django Framework">Django Framework</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="phone" class="form-label">Телефон :</label>
                <input type="tel" class="form-control" id="phone"
                       th:field="*{phone}" required>
            </div>

            <div class="mb-4">
                <label for="commentary" class="form-label">Комментарии :</label>
                <textarea class="form-control" id="commentary" rows="4"
                          th:field="*{commentary}"></textarea>
            </div>

            Hidden checkbox for handled status, buttons control it
            <input type="hidden" th:field="*{handled}" id="handledInput">

            <div class="d-flex gap-2">
                Show "Process" button only for unhandled requests
                <button type="submit" class="btn btn-success"
                        th:if="${!request.handled}"
                        onclick="document.getElementById('handledInput').value='true'">
                    Обработать заявку
                </button>
                <a th:href="@{/requests/delete/{id}(id=${request.id})}"
                   class="btn btn-danger"
                   onclick="return confirm('Вы уверены, что хотите удалить эту заявку?')">
                    Удалить заявку
                </a>
            </div>
        </form>
    </div>
</main>

<footer th:replace="~{fragments/header :: footer}"></footer>
<div th:replace="~{fragments/header :: scripts}"></div>
</body>
</html>
